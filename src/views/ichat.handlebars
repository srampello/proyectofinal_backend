<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap">
    <title>Chat app</title>
</head>
<body>
    <h1 class="title">iChat</h1>
    <div class="main">
        <div class="name">
            <span><i class="far fa-user"></i></span>
            <input type="text" id="name-input" class="name-input" value="anonymous" maxlength="20"/>
        </div>
        <ul class="message-container" id="message-container">
        </ul>

        <form id="message-form" class="message-form">
            <input type="text" name="message" id="message-input" class="message-input">
            <div class="v-divider"></div>
            <button type="submit" class="send-button">send <span><i class="fas fa-paper-plane"></i></span></button>
        </form>
    </div>
    <h3 class="client-total" id="client-total">Total clients: 2</h3>

    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.28.0/moment.min.js" integrity="sha512-Q1f3TS3vSt1jQ8AwP2OuenztnLU6LwxgyyYOG1jgMW/cbEMHps/3wjvnl1P3WTrF3chJUWEoxDUEjMxDV8pujg==" crossorigin="anonymous"></script>
    <script src="/js/ichat.js"></script>
</body>
</html>

<style>
    *{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        scroll-behavior: smooth;
    }

    body{
        font-family: "Open Sans", sans-serif;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background-color: #ebebeb;
    }

    .title{
        margin: 20px 0px;
    }

    .main{
        border: 8px solid #dddddd;
        border-radius: 24px;
        overflow: hidden;
    }

    .name{
        display: flex;
        font-size: 32px;
        font-weight: 700;
        padding: 8px 16px;
        color: #7e7e7e;
        background-color: #ebebeb;
    }

    .name span{
        color: #bbb;
    }

    .name-input{
        font-size: 24px;
        font-weight: 700;
        color: #7e7e7e;
        flex-grow: 1;
        border: none;
        margin: 0px 12px ;
        outline: none;
        background-color: #ebebeb;
    }

    .message-container{
        display: flex;
        flex-direction: column;
        background-color: #f6f6f6;
        width: 400px;
        height: 600px;
        overflow-y: scroll;
        overflow-x: hidden;
    }

    .message-left, .message-right{
        list-style: none;
        padding: 8px 12px;
        margin: 12px;
        max-width: 250px;
        font-size: 18px;
        word-wrap: break-word;
    }

    .message-left{
        border-radius: 20px 20px 20px 0px;
        align-self: flex-start;
        background-color: #fff;
        box-shadow: -2px 2px 4px #dcdcdc;
    }

    .message-right{
        border-radius: 20px 20px 0px 20px;
        align-self: flex-end;
        background-color: #2d2d2d;
        box-shadow: -2px 2px 4px #dcdcdc;
        color: #f6f6f6;
    }

    .message-left p span, .message-right p span{
        display: block;
        font-style: italic;
        font-size: 12px;
        margin-top: 4px;
    }

    .feedback{
        font-style: italic;
        font-size: 14px;
        padding: 0px 16px 16px 16px;
        color: #2d2d2d;
        text-align: center;
    }

    .message-form{
        display: flex;
        justify-content: space-between;
        width: 400px;
    }

    .message-input{
        flex-grow: 1;
        height: 48px;
        font-size: 16px;
        border: none;
        outline: none;
        padding: 0 12px;
        background-color: #fff;  
    }

    .send-button{
        height: 48px;
        font-size: 16px;
        border: none;
        padding: 0px 20px;
        outline: none;
        background-color: #fff;
        cursor: pointer;
    }

    .v-divider{
        height: 48px;
        width: 2px;
        background-color: #f6f6f6;
    }

    .client-total{
        margin: 20px 0;
        color: #7e7e7e;
    }
</style>